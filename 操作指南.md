# å®æ—¶äº’åŠ¨æŠ•ç¥¨ç³»ç»Ÿ - æ“ä½œæŒ‡å—

## ä¸€ã€é¦–æ¬¡éƒ¨ç½²

### 1. é…ç½® Supabase

1. è®¿é—® [supabase.com](https://supabase.com) å¹¶ç”¨ GitHub ç™»å½•
2. åˆ›å»ºæ–°é¡¹ç›®ï¼Œè®°å½• Project URL å’Œ anon key
3. è¿›å…¥ SQL Editorï¼Œè¿è¡Œä»¥ä¸‹ SQL åˆ›å»ºæ•°æ®è¡¨ï¼š

```sql
-- åˆ›å»ºè¡¨
create table events (
  id uuid primary key default gen_random_uuid(),
  name text not null,
  current_question_id uuid,
  created_at timestamp default now()
);

create table questions (
  id uuid primary key default gen_random_uuid(),
  event_id uuid references events(id),
  title text not null,
  options jsonb not null,
  "order" int default 0
);

create table votes (
  id uuid primary key default gen_random_uuid(),
  question_id uuid references questions(id),
  option_id text not null,
  device_id text not null,
  timestamp timestamp default now()
);

-- åˆ›å»ºé»˜è®¤æ´»åŠ¨
insert into events (id, name) values ('00000000-0000-0000-0000-000000000001', 'é»˜è®¤æ´»åŠ¨');

-- å¼€å¯å®æ—¶è®¢é˜…
alter publication supabase_realtime add table votes;
alter publication supabase_realtime add table events;
```

### 2. é…ç½®é¡¹ç›®

```bash
# å®‰è£…ä¾èµ–
npm install

# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```
VITE_SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co
VITE_SUPABASE_ANON_KEY=ä½ çš„anon_key
```

---

## äºŒã€æ—¥å¸¸ä½¿ç”¨

### å¯åŠ¨ç³»ç»Ÿ

```bash
./start.sh
```

å¯åŠ¨åä¼šæ˜¾ç¤ºä¸‰ä¸ªè®¿é—®åœ°å€ï¼ˆè‡ªåŠ¨æ£€æµ‹å±€åŸŸç½‘IPï¼‰ï¼š
- ğŸ“± æŠ•ç¥¨é¡µ - è§‚ä¼—æ‰«ç è®¿é—®
- ğŸ–¥ï¸ å¤§å±å±•ç¤º - æŠ•å½±/å¤§å±æ˜¾ç¤º
- ğŸ›ï¸ æ§åˆ¶å° - ä¸»æŒäººæ“ä½œ

### æ·»åŠ æ–°é—®é¢˜

```bash
npm run add-question
```

æŒ‰æç¤ºè¾“å…¥é—®é¢˜æ ‡é¢˜å’Œé€‰é¡¹å³å¯ã€‚

---

## ä¸‰ã€æ´»åŠ¨ç°åœºæ“ä½œæµç¨‹

### æ´»åŠ¨å‰å‡†å¤‡

1. è¿è¡Œ `npm run add-question` æ·»åŠ æ‰€æœ‰é—®é¢˜
2. è¿è¡Œ `./start.sh` å¯åŠ¨ç³»ç»Ÿ
3. å¤§å±æ‰“å¼€å±•ç¤ºé¡µåœ°å€
4. æ‰‹æœºæ‰“å¼€æ§åˆ¶å°åœ°å€

### æ´»åŠ¨è¿›è¡Œä¸­

| æ“ä½œ | æ–¹æ³• |
|------|------|
| åˆ‡æ¢é—®é¢˜ | æ§åˆ¶å°ç‚¹å‡»å¯¹åº”é—®é¢˜ |
| æ¸…ç©ºæŠ•ç¥¨ | æ§åˆ¶å°ç‚¹å‡»ã€Œæ¸…ç©ºå½“å‰é—®é¢˜æŠ•ç¥¨ã€|
| è§‚ä¼—æŠ•ç¥¨ | æ‰«æå¤§å±äºŒç»´ç  |

### æ³¨æ„äº‹é¡¹

- ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ WiFi ç½‘ç»œ
- å¤§å±å»ºè®®ä½¿ç”¨å…¨å±æ¨¡å¼ï¼ˆF11ï¼‰
- æ¯ä¸ªé—®é¢˜æŠ•ç¥¨å‰å¯å…ˆæ¸…ç©ºå†å²æ•°æ®

---

## å››ã€å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `./start.sh` | å¯åŠ¨ç³»ç»Ÿï¼ˆæ˜¾ç¤ºå±€åŸŸç½‘åœ°å€ï¼‰|
| `npm run dev` | å¼€å‘æ¨¡å¼å¯åŠ¨ |
| `npm run add-question` | æ·»åŠ æ–°é—®é¢˜ |
| `npm run stress 100 500` | å‹åŠ›æµ‹è¯•ï¼ˆ100å¹¶å‘ï¼Œ500è¯·æ±‚ï¼‰|
| `npm run build` | ç”Ÿäº§æ„å»º |
| `npm test` | è¿è¡Œæµ‹è¯• |

---

## äº”ã€é¡µé¢åœ°å€è¯´æ˜

å‡è®¾æ´»åŠ¨IDä¸º `00000000-0000-0000-0000-000000000001`ï¼š

| é¡µé¢ | åœ°å€ |
|------|------|
| æŠ•ç¥¨é¡µ | `/vote/00000000-0000-0000-0000-000000000001` |
| å¤§å±å±•ç¤º | `/display/00000000-0000-0000-0000-000000000001` |
| æ§åˆ¶å° | `/control/00000000-0000-0000-0000-000000000001` |

---

## å…­ã€æ•…éšœæ’æŸ¥

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|---------|
| æ‰‹æœºæ‰«ç æ— æ³•è®¿é—® | æ£€æŸ¥æ˜¯å¦åŒä¸€WiFiï¼Œç”¨å±€åŸŸç½‘IPè€Œélocalhost |
| æŠ•ç¥¨æ— å“åº” | æ£€æŸ¥ Supabase é…ç½®ï¼ŒæŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æŠ¥é”™ |
| å¤§å±ä¸æ›´æ–° | æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œåˆ·æ–°é¡µé¢ |
| 400 é”™è¯¯ | æ•°æ®è¡¨æœªåˆ›å»ºï¼Œè¿è¡Œ SQL è„šæœ¬ |

---

## ä¸ƒã€Supabase å…è´¹ç‰ˆé™åˆ¶

- 500MB æ•°æ®åº“å­˜å‚¨
- 2GB å¸¦å®½/æœˆ
- 50,000 æœˆæ´»ç”¨æˆ·
- å®æ—¶è¿æ¥æ•°æœ‰é™

å¯¹äºä¸€èˆ¬æ´»åŠ¨å®Œå…¨å¤Ÿç”¨ã€‚å¦‚éœ€æ›´é«˜å¹¶å‘ï¼Œå¯å‡çº§ä»˜è´¹ç‰ˆã€‚
